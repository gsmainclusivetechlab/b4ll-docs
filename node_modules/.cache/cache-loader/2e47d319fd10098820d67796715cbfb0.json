{"remainingRequest":"/home/fingent/Desktop/WorkSpace/B4 client/b4ll-docs/node_modules/babel-loader/lib/index.js??ref--9-1!/home/fingent/Desktop/WorkSpace/B4 client/b4ll-docs/src/frontend/RegisterButton.jsx","dependencies":[{"path":"/home/fingent/Desktop/WorkSpace/B4 client/b4ll-docs/src/frontend/RegisterButton.jsx","mtime":1617276898855},{"path":"/home/fingent/Desktop/WorkSpace/B4 client/b4ll-docs/node_modules/cache-loader/dist/cjs.js","mtime":1615479685629},{"path":"/home/fingent/Desktop/WorkSpace/B4 client/b4ll-docs/node_modules/babel-loader/lib/index.js","mtime":1615479685553}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20iL2hvbWUvZmluZ2VudC9EZXNrdG9wL1dvcmtTcGFjZS9CNCBjbGllbnQvYjRsbC1kb2NzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzIjsvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovaW1wb3J0IHN0eWxlIGZyb20nLi9BbGVydEJ1dHRvbi5tb2R1bGUuY3NzJztpbXBvcnQgUmVhY3QgZnJvbSdyZWFjdCc7aW1wb3J0IGF4aW9zIGZyb20nYXhpb3MnO2NvbnN0IHVzZUlucHV0PWluaXQ9Pntjb25zdFt2YWx1ZSxzZXRWYWx1ZV09UmVhY3QudXNlU3RhdGUoaW5pdCk7Y29uc3Qgb25DaGFuZ2U9UmVhY3QudXNlQ2FsbGJhY2soZT0+c2V0VmFsdWUoYCske2UudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1teXGRdL2dpLCcnKX1gKSxbc2V0VmFsdWVdKTtjb25zdCBvbkZvY3VzPVJlYWN0LnVzZUNhbGxiYWNrKGU9PnNldFZhbHVlKGArJHtlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXlxkXS9naSwnJyl9YCksW3ZhbHVlLHNldFZhbHVlXSk7cmV0dXJue3ZhbHVlLG9uQ2hhbmdlLG9uRm9jdXN9O307Y29uc3QgdXNlUmVnaXN0ZXJUcmlnZ2VyPXBob25lPT57Y29uc3Rbc3RhdGUsc2V0U3RhdGVdPVJlYWN0LnVzZVN0YXRlKHtzdGF0ZTonSU5JVCd9KTtjb25zdCB0cmlnZ2VyPVJlYWN0LnVzZUNhbGxiYWNrKGFzeW5jKCk9PntzZXRTdGF0ZSh7c3RhdGU6J1BFTkRJTkcnfSk7dHJ5e2F3YWl0IGF4aW9zLmdldChgJHtwcm9jZXNzLmVudi5BUElfSE9TVH0vZW4tR0IvcmVnaXN0ZXI/Q2FsbGVyPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBob25lKX1gKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtpZihyZXNwb25zZS5kYXRhLnN0YXR1cz09J09LJyl7c2V0U3RhdGUoe3N0YXRlOidTVUNDRVNTJ30pO31lbHNle3NldFN0YXRlKHtzdGF0ZTonRVJST1InfSk7fX0pO31jYXRjaChlKXtzZXRTdGF0ZSh7c3RhdGU6J0VSUk9SJyxlcnJvcjplLnJlc3BvbnNlLmRhdGEuZXJyb3J8fCdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJ30pO319LFtwaG9uZSxzZXRTdGF0ZV0pO3JldHVybntzdGF0ZSx0cmlnZ2VyfTt9O2V4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJlZ2lzdGVyQnV0dG9uKCl7Y29uc3RbYWdyZWUsc2V0QWdyZWVdPVJlYWN0LnVzZVN0YXRlKGZhbHNlKTtjb25zdCBwaG9uZU51bWJlcj11c2VJbnB1dCgnKzQ0Li4uJyk7Y29uc3R7dHJpZ2dlcixzdGF0ZX09dXNlUmVnaXN0ZXJUcmlnZ2VyKHBob25lTnVtYmVyLnZhbHVlKTtjb25zdCBjaGVja2JveEhhbmRsZXI9KCk9PnsvLyBpZiBhZ3JlZSA9PT0gdHJ1ZSwgaXQgd2lsbCBiZSBzZXQgdG8gZmFsc2UKLy8gaWYgYWdyZWUgPT09IGZhbHNlLCBpdCB3aWxsIGJlIHNldCB0byB0cnVlCnNldEFncmVlKCFhZ3JlZSk7Ly8gRG9uJ3QgbWlzcyB0aGUgZXhjbGFtYXRpb24gbWFyawp9O3N3aXRjaChzdGF0ZS5zdGF0ZSl7Y2FzZSdQRU5ESU5HJzpyZXR1cm4vKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IixudWxsLCJQbGVhc2Ugd2FpdC4uLiIpO2Nhc2UnU1VDQ0VTUyc6cmV0dXJuLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsbnVsbCwiWW91ciBudW1iZXIgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGFwcHJvdmVkISBZb3UgbWF5IG5vdyBjYWxsIGFuZCB1c2UgdGhlIGNhbGwgY2VudHJlLiIpO2Nhc2UnRVJST1InOnJldHVybi8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLG51bGwsIlRoZXJlIHdhcyBhIHByb2JsZW0gYWRkaW5nIHlvdXIgbnVtYmVyLiBJdCBtYXkgYWxyZWFkeSBiZSBhcHByb3ZlZCBvciB0aGUgZm9ybWF0IGlzIGluY29ycmVjdC4gUGxlYXNlIHZlcmlmeSB5b3VyIG51bWJlciBpcyBjb3JyZWN0IGFuZCB0cnkgYWdhaW4uIik7fWxldCBtZXNzYWdlPXN0YXRlLmVycm9yfHxudWxsO3JldHVybi8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLG51bGwsLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsbnVsbCwvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLF9leHRlbmRzKHtjbGFzc05hbWU6c3R5bGUuaW5wdXQsdHlwZToidGV4dCIscGxhY2Vob2xkZXI6Iis0NCJ9LHBob25lTnVtYmVyKSksLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIse2Rpc2FibGVkOiFhZ3JlZSxjbGFzc05hbWU6c3R5bGUuYnV0dG9uLG9uQ2xpY2s6dHJpZ2dlcn0sIlJlZ2lzdGVyIiksLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJyIixudWxsKSxtZXNzYWdlPy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6ImFkbW9uaXRpb24gYWRtb25pdGlvbi1kYW5nZXIgYWxlcnQgYWxlcnQtLWRhbmdlciJ9LC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6ImFkbW9uaXRpb24tY29udGVudCJ9LC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJwIixudWxsLG1lc3NhZ2UpKSk6bnVsbCksLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJyIixudWxsKSwvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnIiLG51bGwpLC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6IlRlcm1zQnV0dG9uIn0sLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToiY29udGFpbmVyIn0sLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsbnVsbCwvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLHt0eXBlOiJjaGVja2JveCIsaWQ6ImFncmVlIixvbkNoYW5nZTpjaGVja2JveEhhbmRsZXJ9KSwvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgibGFiZWwiLHtodG1sRm9yOiJhZ3JlZSJ9LCIgSSBoYXZlIHJlYWQgYW5kIGFncmVlZCB0byB0aGUgIiwvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYSIse2hyZWY6Imh0dHBzOi8vZ3NtYWluY2x1c2l2ZXRlY2hsYWIuZ2l0aHViLmlvL2JpbHQtdm9pY2Uvdm9pY2UvdGVybXMifSwidGVybXMgYW5kIGNvbmRpdGlvbnMuIikpKSkpKTt9"},{"version":3,"sources":["/home/fingent/Desktop/WorkSpace/B4 client/b4ll-docs/src/frontend/RegisterButton.jsx"],"names":["style","React","axios","useInput","init","value","setValue","useState","onChange","useCallback","e","target","replace","onFocus","useRegisterTrigger","phone","state","setState","trigger","get","process","env","API_HOST","encodeURIComponent","then","response","data","status","error","RegisterButton","agree","setAgree","phoneNumber","checkboxHandler","message","input","button"],"mappings":"0HAAA,sEACA,MAAOA,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,KAAMC,CAAAA,QAAQ,CAAIC,IAAD,EAAU,CACvB,KAAM,CAACC,KAAD,CAAQC,QAAR,EAAoBL,KAAK,CAACM,QAAN,CAAeH,IAAf,CAA1B,CACA,KAAMI,CAAAA,QAAQ,CAAGP,KAAK,CAACQ,WAAN,CACZC,CAAD,EAAOJ,QAAQ,CAAE,IAAGI,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeO,OAAf,CAAuB,SAAvB,CAAkC,EAAlC,CAAsC,EAA3C,CADF,CAEb,CAACN,QAAD,CAFa,CAAjB,CAIA,KAAMO,CAAAA,OAAO,CAAGZ,KAAK,CAACQ,WAAN,CACXC,CAAD,EAAOJ,QAAQ,CAAE,IAAGI,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeO,OAAf,CAAuB,SAAvB,CAAkC,EAAlC,CAAsC,EAA3C,CADH,CAEZ,CAACP,KAAD,CAAQC,QAAR,CAFY,CAAhB,CAIA,MAAO,CAAED,KAAF,CAASG,QAAT,CAAmBK,OAAnB,CAAP,CACH,CAXD,CAaA,KAAMC,CAAAA,kBAAkB,CAAIC,KAAD,EAAW,CAClC,KAAM,CAACC,KAAD,CAAQC,QAAR,EAAoBhB,KAAK,CAACM,QAAN,CAAe,CAAES,KAAK,CAAE,MAAT,CAAf,CAA1B,CACA,KAAME,CAAAA,OAAO,CAAGjB,KAAK,CAACQ,WAAN,CAAkB,SAAY,CAC1CQ,QAAQ,CAAC,CAAED,KAAK,CAAE,SAAT,CAAD,CAAR,CACA,GAAI,CACA,KAAMd,CAAAA,KAAK,CAACiB,GAAN,CACD,GACGC,OAAO,CAACC,GAAR,CAAYC,QACf,0BAAyBC,kBAAkB,CAACR,KAAD,CAAQ,EAHlD,EAIJS,IAJI,CAIC,SAAUC,QAAV,CAAoB,CACvB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,EAAwB,IAA5B,CAAkC,CAC9BV,QAAQ,CAAC,CAAED,KAAK,CAAE,SAAT,CAAD,CAAR,CACH,CAFD,IAEO,CACHC,QAAQ,CAAC,CAAED,KAAK,CAAE,OAAT,CAAD,CAAR,CACH,CACJ,CAVK,CAAN,CAWH,CAAC,MAAON,CAAP,CAAU,CACRO,QAAQ,CAAC,CACLD,KAAK,CAAE,OADF,CAELY,KAAK,CAAElB,CAAC,CAACe,QAAF,CAAWC,IAAX,CAAgBE,KAAhB,EAAyB,8BAF3B,CAAD,CAAR,CAIH,CACJ,CApBe,CAoBb,CAACb,KAAD,CAAQE,QAAR,CApBa,CAAhB,CAqBA,MAAO,CAAED,KAAF,CAASE,OAAT,CAAP,CACH,CAxBD,CA0BA,cAAe,SAASW,CAAAA,cAAT,EAA0B,CACrC,KAAM,CAACC,KAAD,CAAQC,QAAR,EAAoB9B,KAAK,CAACM,QAAN,CAAe,KAAf,CAA1B,CACA,KAAMyB,CAAAA,WAAW,CAAG7B,QAAQ,CAAC,QAAD,CAA5B,CACA,KAAM,CAAEe,OAAF,CAAWF,KAAX,EAAqBF,kBAAkB,CAACkB,WAAW,CAAC3B,KAAb,CAA7C,CAEA,KAAM4B,CAAAA,eAAe,CAAG,IAAM,CAC1B;AACA;AACAF,QAAQ,CAAC,CAACD,KAAF,CAAR,CACA;AACD,CALH,CAOA,OAAQd,KAAK,CAACA,KAAd,EACI,IAAK,SAAL,CACI,mBAAO,gDAAP,CACJ,IAAK,SAAL,CACI,mBAAO,uHAAP,CACJ,IAAK,OAAL,CACI,mBAAO,oLAAP,CANR,CASA,GAAIkB,CAAAA,OAAO,CAAGlB,KAAK,CAACY,KAAN,EAAe,IAA7B,CACA,mBACI,4CACI,4CACI,sCACI,SAAS,CAAE5B,KAAK,CAACmC,KADrB,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,KAHhB,EAIQH,WAJR,EADJ,cAOI,8BAAQ,QAAQ,CAAE,CAACF,KAAnB,CAA0B,SAAS,CAAE9B,KAAK,CAACoC,MAA3C,CAAmD,OAAO,CAAElB,OAA5D,aAPJ,cAUI,8BAVJ,CAWKgB,OAAO,cACJ,2BAAK,SAAS,CAAC,kDAAf,eACI,2BAAK,SAAS,CAAC,oBAAf,eACI,6BAAIA,OAAJ,CADJ,CADJ,CADI,CAMJ,IAjBR,CADJ,cAoBI,8BApBJ,cAqBI,8BArBJ,cAsBI,2BAAK,SAAS,CAAC,aAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,4CACI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,OAA1B,CAAkC,QAAQ,CAAED,eAA5C,EADJ,cAEI,6BAAO,OAAO,CAAC,OAAf,iDAAsD,yBAAG,IAAI,CAAC,+DAAR,0BAAtD,CAFJ,CADJ,CADJ,CAtBJ,CADJ,CAkCH","sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport style from './AlertButton.module.css';\nimport React from 'react';\nimport axios from 'axios';\n\nconst useInput = (init) => {\n    const [value, setValue] = React.useState(init);\n    const onChange = React.useCallback(\n        (e) => setValue(`+${e.target.value.replace(/[^\\d]/gi, '')}`),\n        [setValue]\n    );\n    const onFocus = React.useCallback(\n        (e) => setValue(`+${e.target.value.replace(/[^\\d]/gi, '')}`),\n        [value, setValue]\n    );\n    return { value, onChange, onFocus };\n};\n\nconst useRegisterTrigger = (phone) => {\n    const [state, setState] = React.useState({ state: 'INIT' });\n    const trigger = React.useCallback(async () => {\n        setState({ state: 'PENDING' });\n        try {\n            await axios.get(\n                `${\n                    process.env.API_HOST\n                }/en-GB/register?Caller=${encodeURIComponent(phone)}`\n            ).then(function (response) {\n                if (response.data.status == 'OK') {\n                    setState({ state: 'SUCCESS' });\n                } else {\n                    setState({ state: 'ERROR' });\n                }\n            });\n        } catch (e) {\n            setState({\n                state: 'ERROR',\n                error: e.response.data.error || 'An unexpected error occurred',\n            });\n        }\n    }, [phone, setState]);\n    return { state, trigger };\n};\n\nexport default function RegisterButton() {\n    const [agree, setAgree] = React.useState(false);\n    const phoneNumber = useInput('+44...');\n    const { trigger, state } = useRegisterTrigger(phoneNumber.value);\n\n    const checkboxHandler = () => {\n        // if agree === true, it will be set to false\n        // if agree === false, it will be set to true\n        setAgree(!agree);\n        // Don't miss the exclamation mark\n      }\n\n    switch (state.state) {\n        case 'PENDING':\n            return <div>Please wait...</div>;\n        case 'SUCCESS':\n            return <div>Your number has been successfully approved! You may now call and use the call centre.</div>;\n        case 'ERROR':\n            return <div>There was a problem adding your number. It may already be approved or the format is incorrect. Please verify your number is correct and try again.</div>\n    }\n\n    let message = state.error || null;\n    return (\n        <div>\n            <div>\n                <input\n                    className={style.input}\n                    type=\"text\"\n                    placeholder=\"+44\"\n                    {...phoneNumber}\n                />\n                <button disabled={!agree} className={style.button} onClick={trigger}>\n                    Register\n                </button>\n                <br />\n                {message ? (\n                    <div className=\"admonition admonition-danger alert alert--danger\">\n                        <div className=\"admonition-content\">\n                            <p>{message}</p>\n                        </div>\n                    </div>\n                ) : null}\n            </div>\n            <br></br>\n            <br></br>\n            <div className=\"TermsButton\">\n                <div className=\"container\">\n                    <div>\n                        <input type=\"checkbox\" id=\"agree\" onChange={checkboxHandler} />\n                        <label htmlFor=\"agree\"> I have read and agreed to the <a href=\"https://gsmainclusivetechlab.github.io/bilt-voice/voice/terms\">terms and conditions.</a></label>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    );\n}\n"]}]}