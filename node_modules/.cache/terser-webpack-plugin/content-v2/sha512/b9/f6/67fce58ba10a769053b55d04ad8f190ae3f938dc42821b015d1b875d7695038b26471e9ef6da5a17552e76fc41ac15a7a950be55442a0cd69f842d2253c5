{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{107:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"frontMatter\",(function(){return c})),a.d(t,\"metadata\",(function(){return o})),a.d(t,\"toc\",(function(){return s})),a.d(t,\"default\",(function(){return u}));var n=a(3),r=(a(0),a(122)),l=a(183);const c={title:\"Call Centre Enrolment\",sidebar_label:\"Enrolment\"},o={unversionedId:\"voice/callcentre\",id:\"voice/callcentre\",isDocsHomePage:!1,title:\"Call Centre Enrolment\",description:\"To demonstrate test the Call Centre showcase register in our database the number\",source:\"@site/docs/voice/callcentre.md\",slug:\"/voice/callcentre\",permalink:\"/b4ll-docs/docs/voice/callcentre\",version:\"current\",sidebar_label:\"Enrolment\",sidebar:\"someSidebar\",previous:{title:\"Alerts\",permalink:\"/b4ll-docs/docs/voice/alerts\"},next:{title:\"B4LL Application\",permalink:\"/b4ll-docs/docs/app/info\"}},s=[],i={toc:s};function u({components:e,...t}){return Object(r.b)(\"wrapper\",Object(n.a)({},i,t,{components:e,mdxType:\"MDXLayout\"}),Object(r.b)(\"p\",null,\"To demonstrate test the Call Centre showcase register in our database the number\\nyou will use to reach the call centre. Please read carefully the terms and\\nconditions before testing this asset.\"),Object(r.b)(l.a,{mdxType:\"RegisterButton\"}),\" \",Object(r.b)(\"br\",null))}u.isMDXComponent=!0},183:function(e,t,a){\"use strict\";(function(e){a.d(t,\"a\",(function(){return u}));var n=a(3),r=a(61),l=a.n(r),c=a(0),o=a.n(c),s=a(155),i=a.n(s);function u(){const[t,a]=o.a.useState(!1),r=(e=>{const[t,a]=o.a.useState(e);return{value:t,onChange:o.a.useCallback((e=>a(`+${e.target.value.replace(/[^\\d]/gi,\"\")}`)),[a]),onFocus:o.a.useCallback((e=>a(`+${e.target.value.replace(/[^\\d]/gi,\"\")}`)),[t,a])}})(\"+44...\"),{trigger:c,state:s}=(t=>{const[a,n]=o.a.useState({state:\"INIT\"});return{state:a,trigger:o.a.useCallback((async()=>{n({state:\"PENDING\"});try{await i.a.get(`${e.env.API_HOST}/en-GB/register?Caller=${encodeURIComponent(t)}`).then((function(e){\"OK\"==e.data.status?n({state:\"SUCCESS\"}):n({state:\"ERROR\"})}))}catch(a){n({state:\"ERROR\",error:a.response.data.error||\"An unexpected error occurred\"})}}),[t,n])}})(r.value);switch(s.state){case\"PENDING\":return o.a.createElement(\"div\",null,\"Please wait...\");case\"SUCCESS\":return o.a.createElement(\"div\",null,\"Your number has been successfully approved! You may now call and use the call centre.\");case\"ERROR\":return o.a.createElement(\"div\",null,\"There was a problem adding your number. It may already be approved or the format is incorrect. Please verify your number is correct and try again.\")}let u=s.error||null;return o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,o.a.createElement(\"input\",Object(n.a)({className:l.a.input,type:\"text\",placeholder:\"+44\"},r)),o.a.createElement(\"button\",{disabled:!t,className:l.a.button,onClick:c},\"Register\"),o.a.createElement(\"br\",null),u?o.a.createElement(\"div\",{className:\"admonition admonition-danger alert alert--danger\"},o.a.createElement(\"div\",{className:\"admonition-content\"},o.a.createElement(\"p\",null,u))):null),o.a.createElement(\"br\",null),o.a.createElement(\"br\",null),o.a.createElement(\"div\",{className:\"TermsButton\"},o.a.createElement(\"div\",{className:\"container\"},o.a.createElement(\"div\",null,o.a.createElement(\"input\",{type:\"checkbox\",id:\"agree\",onChange:()=>{a(!t)}}),o.a.createElement(\"label\",{htmlFor:\"agree\"},\" I have read and agreed to the \",o.a.createElement(\"a\",{href:\"https://gsmainclusivetechlab.github.io/bilt-voice/voice/terms\"},\"terms and conditions.\"))))))}}).call(this,a(140))}}]);","name":"assets/js/c4b1a5c6.81b24c1b.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[37],{\n\n/***/ 107:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"frontMatter\", function() { return frontMatter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"metadata\", function() { return metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toc\", function() { return toc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MDXContent; });\n/* harmony import */ var _home_fingent_Desktop_WorkSpace_B4_client_b4ll_docs_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(122);\n/* harmony import */ var _src_frontend_RegisterButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(183);\nconst frontMatter={title:'Call Centre Enrolment',sidebar_label:'Enrolment'};const metadata={\"unversionedId\":\"voice/callcentre\",\"id\":\"voice/callcentre\",\"isDocsHomePage\":false,\"title\":\"Call Centre Enrolment\",\"description\":\"To demonstrate test the Call Centre showcase register in our database the number\",\"source\":\"@site/docs/voice/callcentre.md\",\"slug\":\"/voice/callcentre\",\"permalink\":\"/b4ll-docs/docs/voice/callcentre\",\"version\":\"current\",\"sidebar_label\":\"Enrolment\",\"sidebar\":\"someSidebar\",\"previous\":{\"title\":\"Alerts\",\"permalink\":\"/b4ll-docs/docs/voice/alerts\"},\"next\":{\"title\":\"B4LL Application\",\"permalink\":\"/b4ll-docs/docs/app/info\"}};/* @jsxRuntime classic */ /* @jsx mdx */const toc=[];const layoutProps={toc};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__[/* mdx */ \"b\"])(MDXLayout,Object(_home_fingent_Desktop_WorkSpace_B4_client_b4ll_docs_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},layoutProps,props,{components:components,mdxType:\"MDXLayout\"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__[/* mdx */ \"b\"])(\"p\",null,`To demonstrate test the Call Centre showcase register in our database the number\nyou will use to reach the call centre. Please read carefully the terms and\nconditions before testing this asset.`),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__[/* mdx */ \"b\"])(_src_frontend_RegisterButton__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{mdxType:\"RegisterButton\"}),\" \",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__[/* mdx */ \"b\"])(\"br\",null));};MDXContent.isMDXComponent=true;\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RegisterButton; });\n/* harmony import */ var _home_fingent_Desktop_WorkSpace_B4_client_b4ll_docs_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var _AlertButton_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61);\n/* harmony import */ var _AlertButton_module_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_AlertButton_module_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(155);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */const useInput=init=>{const[value,setValue]=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(init);const onChange=react__WEBPACK_IMPORTED_MODULE_2___default.a.useCallback(e=>setValue(`+${e.target.value.replace(/[^\\d]/gi,'')}`),[setValue]);const onFocus=react__WEBPACK_IMPORTED_MODULE_2___default.a.useCallback(e=>setValue(`+${e.target.value.replace(/[^\\d]/gi,'')}`),[value,setValue]);return{value,onChange,onFocus};};const useRegisterTrigger=phone=>{const[state,setState]=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState({state:'INIT'});const trigger=react__WEBPACK_IMPORTED_MODULE_2___default.a.useCallback(async()=>{setState({state:'PENDING'});try{await axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(`${process.env.API_HOST}/en-GB/register?Caller=${encodeURIComponent(phone)}`).then(function(response){if(response.data.status=='OK'){setState({state:'SUCCESS'});}else{setState({state:'ERROR'});}});}catch(e){setState({state:'ERROR',error:e.response.data.error||'An unexpected error occurred'});}},[phone,setState]);return{state,trigger};};function RegisterButton(){const[agree,setAgree]=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(false);const phoneNumber=useInput('+44...');const{trigger,state}=useRegisterTrigger(phoneNumber.value);const checkboxHandler=()=>{// if agree === true, it will be set to false\n// if agree === false, it will be set to true\nsetAgree(!agree);// Don't miss the exclamation mark\n};switch(state.state){case'PENDING':return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",null,\"Please wait...\");case'SUCCESS':return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",null,\"Your number has been successfully approved! You may now call and use the call centre.\");case'ERROR':return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",null,\"There was a problem adding your number. It may already be approved or the format is incorrect. Please verify your number is correct and try again.\");}let message=state.error||null;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"input\",Object(_home_fingent_Desktop_WorkSpace_B4_client_b4ll_docs_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({className:_AlertButton_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.input,type:\"text\",placeholder:\"+44\"},phoneNumber)),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"button\",{disabled:!agree,className:_AlertButton_module_css__WEBPACK_IMPORTED_MODULE_1___default.a.button,onClick:trigger},\"Register\"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"br\",null),message?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",{className:\"admonition admonition-danger alert alert--danger\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",{className:\"admonition-content\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\",null,message))):null),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"br\",null),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"br\",null),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",{className:\"TermsButton\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",{className:\"container\"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"input\",{type:\"checkbox\",id:\"agree\",onChange:checkboxHandler}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\",{htmlFor:\"agree\"},\" I have read and agreed to the \",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\",{href:\"https://gsmainclusivetechlab.github.io/bilt-voice/voice/terms\"},\"terms and conditions.\"))))));}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(140)))\n\n/***/ })\n\n}]);","inputSourceMap":null}